<!DOCTYPE HTML>
<html lang="en">
<head> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/prism.min.js"></script>

<meta charset='UTF-8'/> 
<title>Dichotomie</title>
<link rel="stylesheet" href="jeu_vie.css" type="text/css" />
</head>
<body>
On donne le code pour valider les tests :

<pre><code class="language-Python">
if __name__ == '__main__':
  import doctest
  doctest.testmod(verbose=True)
</code></pre>


La recherche par dichotomie permet en mathématiques la recherche d'une solution non évidente de l'équation f(x)=0.<br>

Dans le cas présent, la fonction considérée est : f(x)=x**3−2x−5 dont la représentation graphique est donnée :<br><br>


<center><img src="courbe.png" width="400px" height="500px" /></center>
<br>
On admet pour cela le théorème mathématique selon lequel si f est une fonction continue entre [a,b] et si f(a)*f(b)<0 alors il existe au moins un réel x entre a et b tel que f(x)=0.

<br>
Proposer une recherche par dichotomie qui permet de déterminer cette solution avec la précision requise en validant le test de la documentation.
<br>

<pre><code class="language-Python">

def f(x):
    """
    Renvoie l'image de x par la fonction
    param : x : float
    return : float
    >>> f(2)
    -1
    
    """
    return x**3-2*x-5

def recherche_solution_dichotomie(fonction,a,b,precision):
    """
    Renvoie la valeur approchée de l'équation f(x)=0 avec x entre a et b avec la precision
    demandée, et le nombre d'opérations effectuée
    param : f : function
    param : a : float
    param : b : float
    param : precision : float
    return : tuple
    >>> recherche_solution_dichotomie(f,1,3,0.001)
    (2.0947265625, 11)
    """
</code></pre>
<HR ALIGN=CENTER WIDTH="800">
<br>
Une autre application de la dichotomie peut être d'augmenter le temps d'exécution du tri par insertion ;

on rappelle celui-ci :
<br>

<pre><code class="language-Python">

def tri_insertion(tab):
    """
    Renvoie une liste triée par insertion
    param : tab
    return : tab
    >>> tri_insertion([3, 5, 10, 11, 20, 7, 12])
    [3, 5, 7, 10, 11, 12, 20]
    """
    for i in range(1, len(tab)):
        key=tab[i]
        while tab[i-1]>key and i>0:
            tab[i]=tab[i-1]
            i=i-1
        tab[i]=key        
    return tab
</code></pre>

<br>
On réalise d'abord la fonction suivante :
<br>

<pre><code class="language-Python">
def recherche_indice_position_insertion_par_dichotomie(tab,x):
    """
    Renvoie  par dichotomie l'indice de position où insérer une valeur dans une liste ordonnée
    param : tab : list
    param : x : int
    return : int
    >>> recherche_indice_position_insertion_par_dichotomie([3, 5, 10, 11, 20],7)
    2    
    """
    gauche=0
    droite=len(tab)-1
    while gauche<=droite:
        milieu=(gauche+droite)//2
        if tab[milieu]>x:
            droite=milieu-1
        else:
            gauche=milieu+1
    return gauche
</code></pre>

<br>
Utiliser cette fonction pour proposer une autre écriture du tri par insertion utilisant la fonction précédente.
<br>

<pre><code class="language-Python">

def tri_insertion_dicho(tab):
    """
    Renvoie une liste triée par insertion en utilisant la dichotomie
    param : tab
    return : tab
    >>> tri_insertion_dicho([3, 5, 10, 11, 20, 7, 12])
    [3, 5, 7, 10, 11, 12, 20]
    """
</code></pre>


Afin de vérifier le gain de temps dans l'exécution, on utilisera ceci :

<pre><code class="language-Python">
import random

liste=[i for i in range(1000)]

random.shuffle(liste)

import time

temps_debut = time.time()

tri_insertion(liste)

temps_fin = time.time()

temps_ecoule = temps_fin - temps_debut

print("Temps écoulé tri_insertion :", temps_ecoule, "secondes")

temps_debut = time.time()

tri_insertion_dicho(liste)

temps_fin = time.time()

temps_ecoule = temps_fin - temps_debut

print("Temps écoulé tri_insertion_dicho :", temps_ecoule, "secondes")
</code></pre>

<script>Prism.highlightAll();</script>

</body>
